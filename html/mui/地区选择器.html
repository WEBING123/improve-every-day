<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport"
        content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title></title>
    <link rel="stylesheet" href="../../frame/mui/css/mui.min.css">
    <link rel="stylesheet" href="../../frame/mui/css/mui.picker.css" />
    <link rel="stylesheet" href="../../frame/mui/css/mui.poppicker.css" />

</head>

<body>
    <div class="mui-content">
        <button id="showCityPicker" class="mui-btn mui-btn-block" type="button">二级联动示例 ...</button>
    </div>

    <script src="../../frame/mui/js/mui.min.js"></script>
    <script src="../../frame/mui/js/mui.picker.min.js"></script>
    <script src="../../data/city.data.js" type="text/javascript" charset="utf-8"></script>
    <!-- 区域选择 -->
    <script>
        (function ($, doc) {
            $.init();
            $.ready(function () {
                /**
                 * 获取对象属性的值
                 * 主要用于过滤三级联动中，可能出现的最低级的数据不存在的情况，实际开发中需要注意这一点；
                 * @param {Object} obj 对象
                 * @param {String} param 属性名
                 */
                var _getParam = function (obj, param) {
                    return obj[param] || '';
                };
                //-----------------------------------------
                //级联示例
                var cityPicker = new $.PopPicker({
                    layer: 2
                });
                cityPicker.setData(cityData);
                var showCityPickerButton = doc.getElementById('showCityPicker');
                var cityResult = doc.getElementById('showCityPicker');
                showCityPickerButton.addEventListener('tap', function (event) {
                    cityPicker.show(function (items) {
                        cityResult.innerText = items[0].text + " " + items[1].text;
                        //返回 false 可以阻止选择框的关闭
                        //return false;
                    });
                }, false);
            });
        })(mui, document);
    </script>
</body>

</html>